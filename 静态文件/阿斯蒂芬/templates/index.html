{% extends 'Base.html' %}
{% load static %}

{# ================== 页面content =============== #}
{% block content %}

    <div class="contentall">
    <div class="IndexContentBox">
    <div class="IndexContentMain" style="width:1170px; overflow:hidden;">

    <div class="lunbo_img">
                <div class="indexBanner">
                <div id="slides" class="slides">
                    <ul class="imgList" style="width: 4680px;">
                                                                    <li>
                                    <a target="_blank" href="http://www.wdmcake.cn/category-30.html">
                                    <img src="{% static 'images/1565224479002600733.jpg' %}" width="1000" height="490">
                                    </a></li>
                                                                    <li>
                                    <a target="_blank" href="http://www.wdmcake.cn/topic-733.html">
                                    <img src="{% static 'images/1564618698085893374.jpg' %}" width="1000" height="490">
                                    </a></li>
                                                                    <li>
                                    <a target="_blank" href="http://www.wdmcake.cn/category-1.html">
                                    <img src="{% static 'images/1562527412930249997.jpg' %}" width="1000" height="490">
                                    </a></li>
                                                                    <li>
                                    <a target="_blank" href="http://www.wdmcake.cn/topic-727.html">
                                    <img src="{% static 'images/1562718751695814222.jpg' %}" width="1000" height="490">
                                    </a></li>

                    </ul>
                    <div class="btnList" id="btnList">
                        <div class="BtnimgList" style="bottom: -510.479px;">
                                                                            <a href="http://www.wdmcake.cn/category-30.html">
                                        <img src="{% static 'images/1565224479842670603.jpg' %}" width="80" height="35" style="width: 100px; height: 51px;"></a>
                                                                            <a href="http://www.wdmcake.cn/topic-733.html">
                                        <img src="{% static 'images/1564618698375315259.jpg' %}" width="80" height="35" style="width: 100px; height: 51px;"></a>
                                                                            <a href="http://www.wdmcake.cn/category-1.html">
                                        <img src="{% static 'images/1562527412620061688.jpg' %}" width="80" height="35" style="width: 100px; height: 51px;"></a>
                                                                            <a href="http://www.wdmcake.cn/topic-727.html">
                                        <img src="{% static 'images/1562718751440792968.jpg' %}" width="80" height="35" style="width: 100px; height: 51px;"></a>
                                                            </div>
                    </div>
                    <div class="BtnNumList" id="numList">
                    <div class="BtnNumWrap" style="bottom: -487.521px;"><a href="javascript:void(0);" class="cur">1</a><a href="javascript:void(0);">2</a><a href="javascript:void(0);">3</a><a href="javascript:void(0);">4</a></div></div>
                </div>
                <div class="pagingArrowWrap prev" style="left:-70px;top:198px"><a class="arrow" data-dir="prev"></a></div><div class="pagingArrowWrap next" style="right:-70px;top:198px"><a class="arrow" data-dir="next"></a></div></div>

            </div>

    </div>


    </div>


    </div>
    <script>
    window.Plugin = window.Plugin || {};
    (function(a, c, l, k) {
        var b = {
            imgListClass: "ul.imgList",
            btnListClass: ".btnList",
            imgBtnWrapClass: ".BtnimgList",
            imgBtnWidth: 100,
            imgBtnHeight: 51,
            numBtnCLass: ".numList",
            arrow: false,
            firstBannerLazyLoad: false,
            autoPlay: true,
            autoPlayInterval: 5000,
            bannerHover: k,
            imgBtnHover: k,
            beforeSlideTo: k
        };
        var h = function(m) {
                var n = a();
                for (var o = 1;
                o <= m.bannerNum;
                o++) {
                    n = n.add("<a href='javascript:void(0);'>" + o + "</a>")
                }
                m.numBtnContainer.append(a('<div class="BtnNumWrap"></div>').append(n.eq(m.currentBanner - 1).addClass("cur").end()));
                m.numBtnWrap = m.numBtnContainer.find(".BtnNumWrap");
                m.numBtnWrap.animate({
                    bottom: (1 - (m.bannerContainer.height() - 100)) + "px"
                });
                m.numBtns = m.numBtnContainer.find("a")
            };
        var g = function(m) {
                var o = a(),
                    n = m.bannerContainer.outerHeight() / 2 - 52;
                o = o.add('<div class="pagingArrowWrap prev" style="left:-70px;top:' + n + 'px"><a class="arrow" data-dir="prev"></a></div>');
                o = o.add('<div class="pagingArrowWrap next" style="right:-70px;top:' + n + 'px"><a class="arrow" data-dir="next"></a></div>');
                m.bannerContainer.append(o).find("a.arrow").on("click", function(p) {
                    var q = a(this);
                    if (q.data().dir === "prev") {
                        m.prevBanner()
                    } else {
                        m.nextBanner()
                    }
                }).hover(function() {
                    m.startPlay(false)
                }, function() {
                    m.startPlay(true)
                });
                m.arrowPrev = m.bannerContainer.find("div.pagingArrowWrap.prev");
                m.arrowNext = m.bannerContainer.find("div.pagingArrowWrap.next")
            };
        var d = function(m) {
                m.bannerContainer.hover(function(n) {
                    if (a(n.target).hasClass("arrow")) {
                        return false
                    }
                    m.imgBtnWrap.stop().animate({
                        bottom: (1 - (m.bannerContainer.height() - 78)) + "px"
                    });
                    m.imgBtnWrap.find("img[loadsrc]").each(function() {
                        var o = a(this);
                        o.attr("src", o.attr("loadsrc")).removeAttr("loadsrc")
                    });
                    m.numBtnWrap.stop().animate({
                        bottom: (1 - (m.bannerContainer.height() + 78)) + "px"
                    });
                    if (typeof m.settings.bannerHover === "function") {
                        m.settings.bannerHover.apply(m, arguments)
                    }
                }, function() {
                    m.imgBtnWrap.stop().animate({
                        bottom: (1 - (m.bannerContainer.height() + 100)) + "px"
                    });
                    m.numBtnWrap.stop().animate({
                        bottom: (1 - (m.bannerContainer.height() - 100)) + "px"
                    })
                })
            };
        var e = function(m) {
                m.imgBtns.hover(function() {
                    var n = a(this),
                        o;
                    if (n.siblings("img").length > 0) {
                        o = n.base1() + 1
                    } else {
                        o = n.parent().index() + 1
                    }
                    m.slideTo(o);
                    if (typeof m.settings.imgBtnHover === "function") {
                        m.settings.imgBtnHover.apply(m, arguments)
                    }
                });
                m.imtBtnContainer.hover(function() {
                    m.startPlay(false)
                }, function() {
                    m.startPlay(true)
                })
            };
        var f = function(m) {
                m.bannerContainer.on("scrollin", {
                    full: true
                }, function() {
                    if (m.settings.autoPlay) {
                        m.startPlay(true)
                    }
                }).on("scrollout", {
                    full: true
                }, function() {
                    if (m.settings.autoPlay) {
                        m.startPlay(false)
                    }
                })
            };
        var j = function(m) {
                m.autoPlayTimer = setInterval(function() {
                    if (m.currentBanner === m.bannerNum) {
                        m.currentBanner = 0;
                        m.slideTo(m.currentBanner + 1, true)
                    } else {
                        m.slideTo(m.currentBanner + 1)
                    }
                }, m.settings.autoPlayInterval)
            };
        var i = function(m, o, n) {
                m.banners.slice(o, n).each(function() {
                    var p = a(this);
                    if (p.attr("loadsrc")) {
                        p.attr("src", p.attr("loadsrc")).removeAttr("loadsrc")
                    }
                })
            };
        c.startPlay = function(n) {
            var m = this;
            if (n) {
                if (!m.autoPlayTimer) {
                    if (m.settings.autoPlay) {
                        j(m)
                    }
                }
            } else {
                if (m.autoPlayTimer) {
                    clearInterval(m.autoPlayTimer);
                    m.autoPlayTimer = null
                }
            }
        };
        c.slideTo = function(m, n) {

            var p = this,
                o = p.bannerWidth * (m - 1);
            p.imgContainer.stop();
            if (a.isFunction(p.settings.beforeSlideTo)) {
                p.settings.beforeSlideTo.apply(p, arguments)
            }
            p.currentBanner = m;
            i(p, p.currentBanner - 1, p.currentBanner + 1);
            p.imgBtns.removeClass("cur").eq(p.currentBanner - 1).addClass("cur");
            p.numBtns.removeClass("cur").eq(p.currentBanner - 1).addClass("cur");
            if (n) {
                p.imgContainer.animate({
                    left: -o
                }, 10)
            } else {
                p.imgContainer.animate({
                    left: -o
                })
            }
        };
        c.nextBanner = function() {
            var m = this;
            if (m.currentBanner >= m.bannerNum) {
                m.slideTo(1, true)
            } else {
                m.slideTo(m.currentBanner + 1)
            }
        };
        c.prevBanner = function() {
            var m = this;
            if (m.currentBanner <= 1) {
                m.slideTo(m.bannerNum, true)
            } else {
                m.slideTo(m.currentBanner - 1)
            }
        };
        c.init = function(o, m) {
            var p = this;
            p.elem = m;
            p.$elem = a(m);
            p.bannerContainer = p.$elem;
            p.settings = a.extend(true, {}, b, o);
            p.imgContainer = p.bannerContainer.find(p.settings.imgListClass);
            p.imgBtnWrap = p.bannerContainer.find(p.settings.imgBtnWrapClass);
            p.imtBtnContainer = p.imgBtnWrap.closest(p.settings.btnListClass);
            p.imgBtns = p.imgBtnWrap.find("img");
            p.numBtnContainer = p.bannerContainer.find(p.settings.numBtnCLass).removeClass().addClass("BtnNumList");
            var n = p.imgContainer.find("li");
            p.bannerNum = n.length;
            p.imgBtns.each(function() {
                var q = a(this);
                q.width(p.settings.imgBtnWidth).height(p.settings.imgBtnHeight)
            });
            p.bannerWidth = n.outerWidth(true);
            p.banners = n.find("img");
            p.currentBanner = 1;
            if (p.bannerNum <= 1) {
                return false
            }
            p.bannerContainer.on("scrollin", function() {
                p.bannerContainer.off("scrollin");
                f(p);
                i(p, 0, 1);
                setTimeout(function() {
                    i(p, 1, 2)
                }, p.settings.autoPlayInterval / 2)
            });
            p.imgContainer.width(p.bannerNum * p.bannerWidth);
            h(p);
            if (p.settings.arrow && p.bannerNum > 1) {
                g(p)
            }
            d(p);
            e(p)
        };
        c.refresh = function() {
            var m = this;
            m.imgBtns = m.imgBtnWrap.find("img");
            m.bannerNum = m.imgBtns.length;
            if (m.currentBanner > m.bannerNum) {
                m.currentBanner = m.bannerNum
            }
            m.banners = m.imgContainer.find("li img");
            m.imgContainer.width(m.bannerNum * m.bannerWidth);
            m.numBtnContainer.html("");
            h(m);
            g(m);
            d(m);
            e(m)
        };
        a.fn.bannerSlider = function(m) {
            return this.each(function() {
                var n = Object.create(c);
                n.init(a.extend(true, {}, a.fn.bannerSlider.defaults, m), this);
                a.data(this, "bannerSlider", n)
            })
        };
        a.fn.bannerSlider.defaults = a.extend(true, {}, b)
    })(jQuery, Plugin.BannerSlider = Plugin.BannerSlider || {}, window);

    var maxShowedBanner = 1, currentBanner = 1,
            maxBannerNum = 7, wdmslides = $(".indexBanner"),
            bsObj, bannerShelf, replaceStart = false, replaced = false;
    $(function(){
    wdmslides.bannerSlider({
        arrow:true,
        bannerHover:function () {
            maxShowedBanner = maxBannerNum;
        },
        beforeSlideTo : function (bannerIndex) {
            currentBanner = bannerIndex;
            maxShowedBanner = currentBanner > maxShowedBanner ? currentBanner : maxShowedBanner;
            if (replaceStart || maxShowedBanner >= maxBannerNum || bannerShelf !== "hot") {
                return;
            }
            wdmslides.trigger("cust:replace");
        }
    });
    bsObj = wdmslides.data("bannerSlider");
    });
    </script>

    {#================== 首页滚动字幕 ==================#}
    <p class="microsoft marquee">
                    成老师到店优惠:
        &nbsp;&nbsp;&nbsp;
        尊敬的成老师：只要您不给我们留级，所有5毛钱以下产品随便吃。
        2019.08.10
    </p>

    <div class="content">

            <div class="five_goods">
                        <a target="_blank" href="http://www.wdmcake.cn/product-24.html?ad_id=290&amp;from=wdm">
                    <div class="new_goods top-maskItem">
                    <img border="0" src="{% static 'images/1554851984082867363.jpg' %}">
                        <div class="new_mask mask"></div>
                    </div>
                </a>
                        <a target="_blank" href="http://www.wdmcake.cn/product-1583.html">
                    <div class="tebie_goods top-maskItem">
                    <img border="0" src="{% static 'images/1564525406999523730.jpg' %}">
                        <div class="tebie_mask mask"></div>
                    </div>
                </a>
                        <a target="_blank" href="http://www.wdmcake.cn/product-810.html?ad_id=304&amp;from=wdm">
                    <div class="remai_goods1 top-maskItem">
                    <img border="0" src="{% static 'images/1527732575847844137.jpg' %}">
                        <div class="remai1_mask mask"></div>
                    </div>
                </a>
                        <a target="_blank" href="http://www.wdmcake.cn/product-1585.html">
                    <div class="remai_goods2 top-maskItem">
                    <img border="0" src="{% static 'images/1559770208060324706.jpg' %}">
                        <div class="remai2_mask mask"></div>
                    </div>
                </a>
                        <!--a target="_blank" href="">
                    <div class="tebie_goods top-maskItem">
                        <img border="0" src="data/afficheimg/">
                        <div class="tebie_mask mask"></div>
                    </div>
                </a>
                <a target="_blank" href="">
                    <div class="remai_goods1 top-maskItem">
                        <img border="0" src="data/afficheimg/">
                        <div class="remai1_mask mask"></div>
                    </div>
                </a>
                <a target="_blank" href="">
                    <div class="remai_goods2 top-maskItem">
                        <img border="0" src="data/afficheimg/">
                        <div class="remai2_mask mask"></div>
                    </div>
                </a-->
            </div>
            <div class="three_goods" style="display:none;">
                <div class="xing_goods bottom-maskItem">
                    <div class="xing_mask mask"></div>
                </div>
                <div class="xin_goods bottom-maskItem">
                    <div class="xin_mask mask"></div>
                </div>
                <div class="ka_goods bottom-maskItem">
                    <div class="ka_mask mask"></div>
                </div>
            </div>
            <div class="dh" style="display:none;">
                <div class="dh_detail">
                    <img src="{% static 'images/gonggao.png' %}">
                    <div class="miaoshu">
                        <h4>北京回龙观店重装开业</h4>
                        <p>北京回龙观店开业啦，一元疯抢葡式蛋挞、牛角面包，吃货绝不容错过的福利。</p>
                        <span>&gt;&gt;&gt;</span>
                    </div>
                </div>
                <div class="ge"></div>
                <div class="dh_detail">
                    <img src="{% static 'images/gonggao.png' %}">
                    <div class="miaoshu">
                        <h4>北京回龙观店重装开业</h4>
                        <p>北京回龙观店开业啦，一元疯抢葡式蛋挞、牛角面包，吃货绝不容错过的福利。</p>
                        <span>&gt;&gt;&gt;</span>
                    </div>
                </div>
                <div class="ge"></div>
                <div class="dh_detail">
                    <img src="{% static 'images/gonggao.png' %}">
                    <div class="miaoshu">
                        <h4>北京回龙观店重装开业</h4>
                        <p>北京回龙观店开业啦，一元疯抢葡式蛋挞、牛角面包，吃货绝不容错过的福利。</p>
                        <span>&gt;&gt;&gt;</span>
                    </div>
                </div>
                <div class="dh_detail bor_dashed">
                    <img src="{% static 'images/gonggao.png' %}">
                    <div class="miaoshu">
                        <h4>北京回龙观店重装开业</h4>
                        <p>北京回龙观店开业啦，一元疯抢葡式蛋挞、牛角面包，吃货绝不容错过的福利。</p>
                        <span>&gt;&gt;&gt;</span>
                    </div>
                </div>
                <div class="ge"></div>
                <div class="dh_detail bor_dashed">
                    <img src="{% static 'images/gonggao.png' %}">
                    <div class="miaoshu">
                        <h4>北京回龙观店重装开业</h4>
                        <p>北京回龙观店开业啦，一元疯抢葡式蛋挞、牛角面包，吃货绝不容错过的福利。</p>
                        <span>&gt;&gt;&gt;</span>
                    </div>
                </div>
                <div class="ge"></div>
                <div class="dh_detail bor_dashed">
                    <img src="{% static 'images/gonggao.png' %}">
                    <div class="miaoshu">
                        <h4>北京回龙观店重装开业</h4>
                        <p>北京回龙观店开业啦，一元疯抢葡式蛋挞、牛角面包，吃货绝不容错过的福利。</p>
                        <span>&gt;&gt;&gt;</span>
                    </div>
                </div>
            </div>
        </div>

{% endblock content %}